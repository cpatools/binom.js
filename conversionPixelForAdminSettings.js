(function(){"use strict";function n(n){return n.trim().replace(/(^\/+|\/+$)/g,"")}function t(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.trim().replace(/(^\/+|\/+$)/g,""),c=t&&!n.endsWith(".php")?".php":"";return"".concat(i).concat(c)}function i(i,c){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=n(i),r=o.startsWith("http")?"":"https://",u=t(c,e);return"".concat(r).concat(o,"/").concat(u)}window.BinomJSOptions||(window.BinomJSOptions=new(function(){this.host=n(window.location.hostname),this.clickAlias="click.php",this.__setHost=function(t){this.host=n(t)},this.__setClickAlias=function(n){this.clickAlias=t(n,!0)},this.init=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.host,i=n.clickAlias;this.__setHost(null!=t?t:this.host),this.__setClickAlias(null!=i?i:this.clickAlias)},this.getOptions=function(){var c,e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={host:n(null!==(c=o.host)&&void 0!==c?c:this.host),clickAlias:t(null!==(e=o.clickAlias)&&void 0!==e?e:this.clickAlias,!0)},u=i(r.host,r.clickAlias,!0);return Object.assign(Object.assign({},r),{},{clickUrl:u})}}));var c=window.BinomJSOptions;function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uclick";return Array.from(document.cookie.matchAll(new RegExp("(?:^|; )(clickid|".concat(n,")=([^;]*)"),"g"))).map((function(n){return{name:n[1],value:n[2]}}))}function o(n){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"uclick",c=null===(t=n.match(/\?.+?$/))||void 0===t?void 0:t[0];return c?Array.from(c.matchAll(new RegExp("[?&](clickid|".concat(i,")=([^=&]*)"),"g"))).map((function(n){return{name:n[1],value:n[2]}})):[]}function r(n){var t=n();return 0===t.length?{}:t.reduce((function(n,t){var i;return Object.assign(Object.assign({},n),{},((i={})[t.name]="".concat(t.value),i))}),{})}function u(n,t){return n.reduce((function(n,i){return n.concat(t.map((function(n){return[i,n]})))}),[])}function a(n,t){var i,a,l,s=c.getOptions(t).uclickFieldName,h=void 0===s?"uclick":s,f=(function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uclick",i=r((function(){return e(t)})),c=r((function(){return o(document.referrer,t)})),a=r((function(){return o(document.location.search,t)}));return null!==(n=u([t,"clickid"],[i,c,a]).map((function(n){return{name:n[0],value:n[1][n[0]]}})).find((function(n){return n.value})))&&void 0!==n?n:null})(h);return null===f?n:n.cnv_id?f.name===h?Object.assign(Object.assign({},n),{},((l={})[f.name]=f.value,l)):Object.assign(Object.assign({},n),{},{cnv_id:null!==(i=f.value)&&void 0!==i?i:n.cnv_id}):Object.assign(Object.assign({},n),{},((a={})[f.name]=f.value,a))}function l(n,t){var i=c.getOptions(t).clickUrl,e=(function(n){return Object.keys(n).map((function(t){return"".concat(t,"=").concat(n[t])})).join("&")})(n);return"".concat(i,"?").concat(e)}function s(n,t,i){(function(n,t){var i={},c=[];return Object.keys(n).forEach((function(e){var o=n[e];if("function"==typeof o){var r=o(t);r instanceof Promise?(c.push(r),r.then((function(n){i[e]=n}))):i[e]=r}else i[e]=o})),0===c.length?{then:function(n){n(i)}}:new Promise((function(n){return Promise.all(c).then((function(){n(i)}))}))})(a(n,i),t).then((function(n){var t=document.createElement("img");t.src=l(n,i),t.referrerPolicy="no-referrer-when-downgrade"}))}s({cnv_id:"OPTIONAL",payout:"OPTIONAL"},{},{host:"<?php echo $arr_tpl[\"domain_url\"]; ?>",clickAlias:"<?php echo $arr_tpl[\"settings\"][\"custom_url\"][\"click\"]; ?>",uclickFieldName:"<?php echo protection::get_key(\"uclick\",1);?>"})})();
