/*!
 * Binom.js v0.0.8
 */
var BinomJS=function(){"use strict";function n(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uclick";return Array.from(document.cookie.matchAll(new RegExp("(?:^|; )(clickid|".concat(n,")=([^;]*)"),"g"))).map((function(n){return{name:n[1],value:n[2]}}))}function t(n){var t,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"uclick",i=null===(t=n.match(/\?.+?$/))||void 0===t?void 0:t[0];return i?Array.from(i.matchAll(new RegExp("[?&](clickid|".concat(c,")=([^=&]*)"),"g"))).map((function(n){return{name:n[1],value:n[2]}})):[]}function c(n){var t=n();return 0===t.length?{}:t.reduce((function(n,t){var c;return Object.assign(n,((c={})[t.name]="".concat(t.value),c))}),{})}function i(n,t){return n.reduce((function(n,c){return n.concat(t.map((function(n){return[c,n]})))}),[])}function o(n){return n.trim().replace(/(^\/+|\/+$)/g,"")}function e(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=n.trim().replace(/(^\/+|\/+$)/g,""),i=t&&!n.endsWith(".php")?".php":"";return"".concat(c).concat(i)}function r(n,t){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=o(n),r=i.startsWith("http")?"":"https://",u=e(t,c);return"".concat(r).concat(i,"/").concat(u)}function u(){window.BinomJSOptions||(window.BinomJSOptions={host:o(window.location.hostname),clickAlias:"click.php"})}function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u();var t={host:n.host?o(n.host):window.BinomJSOptions.host,clickAlias:n.clickAlias?e(n.clickAlias,!0):window.BinomJSOptions.clickAlias},c=r(t.host,t.clickAlias,!0);return Object.assign({clickUrl:c},n,t)}function l(o,e){var r,u=a(e).uclickFieldName||"uclick",l=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uclick",e=c((function(){return n(o)})),r=c((function(){return t(document.referrer,o)})),u=c((function(){return t(document.location.search,o)}));return i([o,"clickid"],[e,r,u]).map((function(n){return{name:n[0],value:n[1][n[0]]}})).find((function(n){return n.value}))||null}(u);return null===l?o:o.cnv_id&&l.name!==u?Object.assign({},o,{cnv_id:l.value||o.cnv_id}):Object.assign({},o,((r={})[l.name]=l.value,r))}function f(n,t){var c=a(t).clickUrl,i=function(n){return Object.keys(n).map((function(t){return"".concat(t,"=").concat(n[t])})).join("&")}(n);return"".concat(c,"?").concat(i)}function s(n,t,c){(function(n,t){var c={},i=[];return Object.keys(n).forEach((function(o){var e=n[o];if("function"==typeof e){var r=e(t);r instanceof Promise?(i.push(r),r.then((function(n){c[o]=n}))):c[o]=r}else c[o]=e})),0===i.length?{then:function(n){n(c)}}:new Promise((function(n){return Promise.all(i).then((function(){n(c)}))}))})(l(n,c),t).then((function(n){!function(n,t){var c=document.createElement("img");c.src=f(n,t),c.referrerPolicy="no-referrer-when-downgrade"}(n,c)}))}function v(n){var t,c;t=n.host,u(),window.BinomJSOptions.host=o(t),c=n.clickAlias,u(),window.BinomJSOptions.clickAlias=e(c,!0)}return{init:function(n){v(n)},sendTokens:s,detectTimeout:function(n,t,c){setTimeout((function(){var t;s(((t={})[n]="1",t),c)}),1e3*t)},detectMobile:function(n,t){var c=void 0!==window.orientation;s(function(n){var t;return"string"==typeof n?((t={})[n]=function(n){return n.isMobile?1:0},t):n}(n),{isMobile:c},t)},detectScroll:function(n,t){var c=!1;window.addEventListener("scroll",(function(){var i;c||(c=!0,s(((i={})[n]="1",i),t))}))}}}();
