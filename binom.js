/*!
 * Binom.js v0.0.7
 */
var BinomJS=function(){"use strict";function n(n){return n.trim().replace(/(^\/+|\/+$)/g,"")}function t(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.trim().replace(/(^\/+|\/+$)/g,""),c=t&&!n.endsWith(".php")?".php":"";return"".concat(i).concat(c)}function i(i,c){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=n(i),r=o.startsWith("http")?"":"https://",u=t(c,e);return"".concat(r).concat(o,"/").concat(u)}window.BinomJSOptions||(window.BinomJSOptions=new function(){this.host=n(window.location.hostname),this.clickAlias="click.php",this.__setHost=function(t){this.host=n(t)},this.__setClickAlias=function(n){this.clickAlias=t(n,!0)},this.init=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.host,i=n.clickAlias;this.__setHost(null!=t?t:this.host),this.__setClickAlias(null!=i?i:this.clickAlias)},this.getOptions=function(){var c,e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={host:n(null!==(c=o.host)&&void 0!==c?c:this.host),clickAlias:t(null!==(e=o.clickAlias)&&void 0!==e?e:this.clickAlias,!0)},u=i(r.host,r.clickAlias,!0);return Object.assign(Object.assign({},r),{},{clickUrl:u})}});var c=window.BinomJSOptions;function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uclick";return Array.from(document.cookie.matchAll(new RegExp("(?:^|; )(clickid|".concat(n,")=([^;]*)"),"g"))).map((function(n){return{name:n[1],value:n[2]}}))}function o(n){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"uclick",c=null===(t=n.match(/\?.+?$/))||void 0===t?void 0:t[0];return c?Array.from(c.matchAll(new RegExp("[?&](clickid|".concat(i,")=([^=&]*)"),"g"))).map((function(n){return{name:n[1],value:n[2]}})):[]}function r(n){var t=n();return 0===t.length?{}:t.reduce((function(n,t){var i;return Object.assign(Object.assign({},n),{},((i={})[t.name]="".concat(t.value),i))}),{})}function u(n,t){return n.reduce((function(n,i){return n.concat(t.map((function(n){return[i,n]})))}),[])}function a(n,t){var i,a,l,s=c.getOptions(t).uclickFieldName,f=void 0===s?"uclick":s,h=function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uclick",i=r((function(){return e(t)})),c=r((function(){return o(document.referrer,t)})),a=r((function(){return o(document.location.search,t)}));return null!==(n=u([t,"clickid"],[i,c,a]).map((function(n){return{name:n[0],value:n[1][n[0]]}})).find((function(n){return n.value})))&&void 0!==n?n:null}(f);return null===h?n:n.cnv_id?h.name===f?Object.assign(Object.assign({},n),{},((l={})[h.name]=h.value,l)):Object.assign(Object.assign({},n),{},{cnv_id:null!==(i=h.value)&&void 0!==i?i:n.cnv_id}):Object.assign(Object.assign({},n),{},((a={})[h.name]=h.value,a))}function l(n,t){var i=c.getOptions(t).clickUrl,e=function(n){return Object.keys(n).map((function(t){return"".concat(t,"=").concat(n[t])})).join("&")}(n);return"".concat(i,"?").concat(e)}function s(n,t,i){(function(n,t){var i={},c=[];return Object.keys(n).forEach((function(e){var o=n[e];if("function"==typeof o){var r=o(t);r instanceof Promise?(c.push(r),r.then((function(n){i[e]=n}))):i[e]=r}else i[e]=o})),0===c.length?{then:function(n){n(i)}}:new Promise((function(n){return Promise.all(c).then((function(){n(i)}))}))})(a(n,i),t).then((function(n){var t=document.createElement("img");t.src=l(n,i),t.referrerPolicy="no-referrer-when-downgrade"}))}return{init:function(n){c.init(n)},sendTokens:s,detectTimeout:function(n,t,i){setTimeout((function(){var t;s(((t={})[n]="1",t),i)}),1e3*t)},detectMobile:function(n,t){var i=void 0!==window.orientation;s(function(n){var t;return"string"==typeof n?((t={})[n]=function(n){return n.isMobile?1:0},t):n}(n),{isMobile:i},t)},detectScroll:function(n,t){var i=!1;window.addEventListener("scroll",(function(){var c;i||(i=!0,s(((c={})[n]="1",c),t))}))}}}();
